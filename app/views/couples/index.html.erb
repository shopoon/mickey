<div class="page-header">
  <h1>交配</h1>
</div>
<table class="table table-striped">
  <thead>
    <tr>
      <th>ID</th>
      <th>父</th>
      <th>母</th>
      <th>状態</th>
      <th>交配開始日</th>
      <th><%=t '.actions', :default => t("helpers.actions") %></th>
    </tr>
  </thead>
  <tbody>
    <% @couples.each do |couple| %>
      <tr>
        <td><%= couple.id %></td>
        <td><%= Mouse.find(couple.father_id).display_name %></td>
        <td><%= Mouse.find(couple.mother_id).display_name %></td>
        <td><%= couple.status %></td>
        <td><%= couple.mated_at.to_date %></td>
        <td>
          <div class="btn-group">
          <% Couple.status.values.each do |value| %>
            <%= link_to t(".#{value}", :default => t("activerecord.couples.status.#{value}")),
              url_for(action: :update_status, status: value, id: couple.id),
              :class => "btn btn-sm btn-success"
            %>
          <% end %>
          <%= link_to t('.birth', :default => t("helpers.links.birth")), couples_path, :class => 'btn btn-sm btn-success' %>
          <% if admin_user? %>
            <%= link_to t('.destroy', :default => t("helpers.links.destroy")),
              couple_path(couple),
              :method => :delete,
              :data => { :confirm => t('.confirm', :default => t("helpers.links.confirm", :default => 'Are you sure?')) },
              :class => 'btn btn-sm btn-danger'
            %>
          <% end %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
<%= paginate @couples %>

<%= link_to t('.new', :default => t("helpers.links.new")),
            new_couple_path,
            :class => 'btn btn-primary' %>

<%= content_for :sidebar do %>
  <%= render 'shared/mouse_sidebar' %>
<% end %>
